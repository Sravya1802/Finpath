<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learning Center - FinPath</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <div class="container" style="max-width: 1000px; padding: 20px;">
        <!-- Header -->
        <div style="background: linear-gradient(135deg, #E0F2F1 0%, #B2DFDB 100%); padding: 20px; border-radius: 12px; margin-bottom: 25px;">
            <h1 style="color: #00796B; margin: 0; font-size: 1.8em;">üìö Learning Center</h1>
            <p style="color: var(--text-medium); margin: 5px 0 0 0;">Cultural guides and error prevention</p>
        </div>

        <!-- Error Prevention Section -->
        <div class="card" style="border: 2px solid #FF9800; border-left: 5px solid #FF9800; border-radius: 12px; padding: 20px; background: linear-gradient(135deg, #FFF3E0 0%, #FFE0B2 100%); margin-bottom: 25px;">
            <h2 style="color: #F57C00; margin: 0 0 15px 0; font-size: 1.4em;">‚ö†Ô∏è Common Mistakes to Avoid</h2>
            <div id="error-prevention-tips"></div>
        </div>

        <!-- Cultural Context Section -->
        <div class="card" style="border: 2px solid var(--border-color); border-radius: 12px; padding: 20px; background-color: var(--white); margin-bottom: 25px;">
            <h2 style="color: var(--accent-blue); margin: 0 0 15px 0; font-size: 1.4em;">üåç Understanding U.S. vs. Your Home Country</h2>
            <div id="cultural-context"></div>
        </div>

        <!-- Navigation -->
        <div class="nav-buttons" style="margin-top: 20px; text-align: center;">
            <a href="dashboard.html" class="btn" style="padding: 10px 20px; font-size: 0.9em;">‚Üê Back to Dashboard</a>
        </div>
    </div>

    <script>
        function getSelectedVisa() {
            const userData = JSON.parse(localStorage.getItem('userData') || '{}');
            return userData?.visaType || localStorage.getItem('selectedVisa') || 'F-1';
        }

        const errorPreventionTips = {
            'F-1': [
                { mistake: 'Applying for multiple credit cards at once', consequence: 'Each application creates a hard inquiry, lowering your credit score. Wait 6 months between applications.', prevention: 'Apply for ONE secured card first, wait 6 months before applying again.' },
                { mistake: 'Missing tax filing deadline', consequence: 'Penalties and interest charges. May affect future visa applications.', prevention: 'File Form 1040NR by April 15th. Use free VITA programs if eligible.' },
                { mistake: 'Using high-fee money transfer services', consequence: 'Losing 3-5% of transfer amount in hidden fees and poor exchange rates.', prevention: 'Compare services like Wise or Remitly. Check real exchange rates, not just fees.' }
            ],
            'H-1B': [
                { mistake: 'Not maximizing 401(k) employer match', consequence: 'Missing free money. Employer match is essentially a 100% return on investment.', prevention: 'Contribute at least enough to get full employer match. It\'s free money!' },
                { mistake: 'Carrying high credit card balances', consequence: 'High interest charges (18-25% APR) and damage to credit score.', prevention: 'Pay full balance monthly. Keep utilization below 30%.' },
                { mistake: 'Not filing taxes as resident alien', consequence: 'Missing deductions and credits you\'re entitled to. Potential penalties.', prevention: 'File as resident alien (Form 1040) if you meet substantial presence test.' }
            ],
            'Refugee': [
                { mistake: 'Cashing paychecks at check-cashing stores', consequence: 'Losing 2-3% of income in fees. No protection if check bounces.', prevention: 'Use direct deposit to bank account. Free, faster, and safer.' },
                { mistake: 'Not building credit early', consequence: 'Difficulty renting apartments, getting jobs, or buying cars later.', prevention: 'Start with secured credit card immediately. Even $200 deposit helps.' },
                { mistake: 'Missing benefit application deadlines', consequence: 'Losing access to government assistance programs you\'re eligible for.', prevention: 'Set reminders. Work with resettlement agency to track deadlines.' }
            ]
        };

        const culturalContext = {
            'F-1': [
                { concept: 'Credit Score', usSystem: 'Individual credit history (300-850 scale). Based on payment history, utilization, account age.', homeCountry: 'India: CIBIL score (300-900). China: Sesame Credit. Family banking relationships matter less in U.S.', visual: 'üìä' },
                { concept: 'Banking', usSystem: 'Individual accounts. No family co-signing. Online banking standard.', homeCountry: 'Many countries: Family accounts common. Physical branch visits required.', visual: 'üè¶' },
                { concept: 'Tax Filing', usSystem: 'File annually by April 15. Self-service or professional help. Non-resident forms (1040NR).', homeCountry: 'Many countries: Employer handles taxes. No annual filing required.', visual: 'üìÖ' }
            ],
            'H-1B': [
                { concept: 'Credit Score', usSystem: 'Individual credit history. Higher scores (750+) unlock better rates for mortgages, cars.', homeCountry: 'India: CIBIL. China: Sesame Credit. U.S. system more individual-focused.', visual: 'üìä' },
                { concept: 'Retirement Planning', usSystem: '401(k) with employer match. Individual responsibility. Tax-advantaged savings.', homeCountry: 'Many countries: Government pensions. Less individual planning needed.', visual: 'üí∞' },
                { concept: 'Home Buying', usSystem: 'Mortgage pre-approval required. Credit score critical. Down payment 10-20%.', homeCountry: 'Many countries: Cash purchases common. Less credit-dependent.', visual: 'üè†' }
            ],
            'Refugee': [
                { concept: 'Banking', usSystem: 'Individual accounts. Direct deposit standard. Online/mobile banking.', homeCountry: 'Many countries: Cash-based economy. No bank accounts. Physical money only.', visual: 'üè¶' },
                { concept: 'Credit Building', usSystem: 'Start from zero. Secured cards available. Build over 6-12 months.', homeCountry: 'Many countries: Credit systems don\'t exist or work differently.', visual: 'üìä' },
                { concept: 'Government Benefits', usSystem: 'Apply through agencies. Time-limited. Must track deadlines.', homeCountry: 'Many countries: Different benefit systems or none available.', visual: 'ü§ù' }
            ]
        };

        function loadErrorPrevention() {
            const visaType = getSelectedVisa();
            const tips = errorPreventionTips[visaType] || errorPreventionTips['F-1'];
            const container = document.getElementById('error-prevention-tips');
            
            container.innerHTML = '';
            tips.forEach(function(tip) {
                const tipBox = document.createElement('div');
                tipBox.style.cssText = 'padding: 15px; margin-bottom: 12px; background-color: var(--white); border-radius: 8px; border-left: 3px solid #FF9800;';
                tipBox.innerHTML = 
                    '<div style="margin-bottom: 10px;">' +
                        '<strong style="color: #F57C00; font-size: 0.95em;">‚ùå Mistake:</strong> ' +
                        '<span style="color: var(--text-dark); font-size: 0.95em;">' + tip.mistake + '</span>' +
                    '</div>' +
                    '<div style="margin-bottom: 10px; padding: 10px; background-color: #FFEBEE; border-radius: 6px;">' +
                        '<strong style="color: #C62828; font-size: 0.9em;">‚ö†Ô∏è What Happens If:</strong> ' +
                        '<span style="color: var(--text-dark); font-size: 0.9em;">' + tip.consequence + '</span>' +
                    '</div>' +
                    '<div style="padding: 10px; background-color: #E8F5E9; border-radius: 6px;">' +
                        '<strong style="color: #2E7D32; font-size: 0.9em;">‚úÖ Prevention:</strong> ' +
                        '<span style="color: var(--text-dark); font-size: 0.9em;">' + tip.prevention + '</span>' +
                    '</div>';
                
                container.appendChild(tipBox);
            });
        }

        function loadCulturalContext() {
            const visaType = getSelectedVisa();
            const contexts = culturalContext[visaType] || culturalContext['F-1'];
            const container = document.getElementById('cultural-context');
            
            container.innerHTML = '';
            contexts.forEach(function(context) {
                const contextBox = document.createElement('div');
                contextBox.style.cssText = 'padding: 18px; margin-bottom: 15px; background: linear-gradient(135deg, var(--primary-blue) 0%, var(--soft-green) 100%); border-radius: 10px; border-left: 4px solid var(--accent-blue);';
                contextBox.innerHTML = 
                    '<div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px;">' +
                        '<span style="font-size: 2em;">' + context.visual + '</span>' +
                        '<h4 style="color: var(--text-dark); margin: 0; font-size: 1.1em; font-weight: 700;">' + context.concept + '</h4>' +
                    '</div>' +
                    '<div style="margin-bottom: 10px; padding: 10px; background-color: var(--white); border-radius: 6px;">' +
                        '<strong style="color: var(--accent-blue); font-size: 0.9em;">üá∫üá∏ U.S. System:</strong> ' +
                        '<span style="color: var(--text-dark); font-size: 0.9em;">' + context.usSystem + '</span>' +
                    '</div>' +
                    '<div style="padding: 10px; background-color: var(--white); border-radius: 6px;">' +
                        '<strong style="color: #9C27B0; font-size: 0.9em;">üåç Your Home Country:</strong> ' +
                        '<span style="color: var(--text-dark); font-size: 0.9em;">' + context.homeCountry + '</span>' +
                    '</div>';
                
                container.appendChild(contextBox);
            });
        }

        document.addEventListener('DOMContentLoaded', function() {
            loadErrorPrevention();
            loadCulturalContext();
        });
    </script>
</body>
</html>

